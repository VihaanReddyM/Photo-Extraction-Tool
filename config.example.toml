# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                    ğŸ“¸ Photo Extraction Tool Configuration                    â•‘
# â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
# â•‘  This configuration file allows you to customize the behavior of the        â•‘
# â•‘  photo extraction tool. Modify the settings below to match your preferences.â•‘
# â•‘                                                                              â•‘
# â•‘  Config file location:                                                       â•‘
# â•‘    Windows: %APPDATA%\photo_extraction_tool\config.toml                      â•‘
# â•‘                                                                              â•‘
# â•‘  Quick commands:                                                             â•‘
# â•‘    photo_extraction_tool config         - Open this file in your editor     â•‘
# â•‘    photo_extraction_tool config --path  - Show config file location         â•‘
# â•‘    photo_extraction_tool config --reset - Reset to default settings         â•‘
# â•‘    photo_extraction_tool show-config    - View current settings             â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                         ğŸ‘¥ DEVICE PROFILES SETTINGS                          â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# Device profiles automatically organize photos by device.
# Each iOS device gets its own folder under the backup directory.
# This is ENABLED by default - the first run will ask you for a backup location.

[device_profiles]

# Enable device profiles feature (recommended).
# When enabled, each device will have its own subfolder under backup_base_folder.
# Example: "D:/Photos/Johns_iPhone_15_Pro/", "D:/Photos/Marys_iPad_Air/"
enabled = true

# Base folder where all device backups will be stored.
# This is set during first-time setup. Change it here to move your backup location.
# IMPORTANT: Leave empty to trigger the setup wizard on first run.
# Examples:
#   "D:/Photos"                   - Absolute path on Windows
#   "C:/Users/John/Pictures/iOS"  - Another example
backup_base_folder = ""

# Path to the profiles database file.
# This JSON file stores device information and their folder mappings.
profiles_file = "./.device_profiles.json"


# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                            ğŸ“ OUTPUT SETTINGS                                â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# These settings are used as fallback when device_profiles.enabled = false,
# or when you use the --output CLI flag to override the destination.

[output]

# Fallback directory for extracted photos (when profiles are disabled).
# When device_profiles is enabled, backup_base_folder is used instead.
directory = ""

# Preserve the folder structure from the device (e.g., 202511__/IMG_0001.HEIC)
# Set to `false` to extract all photos into a single flat directory.
preserve_structure = true

# Skip files that already exist in the destination directory.
# Useful for incremental backups - only new photos will be extracted.
# Set to `false` to overwrite existing files.
skip_existing = true

# Organize photos into YYYY/MM folders based on their creation date.
# Example: Photos taken in March 2024 â†’ "2024/03/IMG_0001.jpg"
# Note: This overrides preserve_structure when enabled.
organize_by_date = false

# Create a subfolder named after the device (only when profiles are disabled).
# Example: "extracted_photos/Johns_iPhone_15/..."
subfolder_by_device = false


# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                            ğŸ“± DEVICE SETTINGS                                â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# This tool primarily targets iOS devices (iPhone/iPad) but can also work with
# other MTP-compatible devices when apple_only is set to false.
# No iTunes installation or additional drivers are required on Windows 10/11.

[device]

# Specific device ID to use for extraction.
# Leave commented out for auto-detection (recommended for most users).
# Use `photo_extraction_tool list` command to find your device ID.
# device_id = "\\\\?\\usb#vid_05ac&pid_12a8#..."

# Filter devices by name (partial match, case-insensitive).
# Useful when you have multiple iOS devices and want to target a specific one.
# Examples:
#   "iPhone"        - Match any iPhone
#   "iPhone 15"     - Match iPhone 15 specifically
#   "iPad Pro"      - Match iPad Pro
# device_name_filter = "iPhone"

# Only show Apple devices (iPhone, iPad, iPod touch).
# Set to `false` to also detect other MTP-compatible devices (Android, cameras, etc.)
# Note: This tool is optimized for iOS devices; other devices may have limited support.
apple_only = true


# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                          ğŸ¯ EXTRACTION SETTINGS                              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[extraction]

# Only extract from DCIM/photo folders.
# Set to `false` to scan the entire device storage (may include app data, etc.)
# Note: iOS devices may organize photos in date-based folders (202511__, etc.)
#       instead of traditional DCIM - the tool handles both automatically.
dcim_only = true

# File extensions to INCLUDE in extraction.
# Leave empty [] to include all supported photo and video types.
# Examples:
#   ["jpg", "jpeg", "heic"]           - Only JPEG and HEIC photos
#   ["mov", "mp4"]                    - Only videos
#   ["heic", "heif", "dng"]           - Only modern formats and RAW
include_extensions = []

# File extensions to EXCLUDE from extraction.
# These will be skipped even if they match include_extensions.
# Example: ["aae"] to skip Apple's sidecar edit files
exclude_extensions = []

# Minimum file size in bytes (0 = no minimum).
# Useful for filtering out thumbnails or corrupted files.
# Examples:
#   0           - No minimum (extract everything)
#   1024        - Skip files smaller than 1 KB
#   102400      - Skip files smaller than 100 KB
min_file_size = 0

# Maximum file size in bytes (0 = no maximum).
# Useful for skipping large video files if you only want photos.
# Examples:
#   0             - No maximum (extract everything)
#   10485760      - Skip files larger than 10 MB
#   104857600     - Skip files larger than 100 MB
max_file_size = 0

# Include photo files in extraction.
# Supported formats: JPEG, PNG, HEIC/HEIF, GIF, WebP, RAW, TIFF, BMP, DNG
include_photos = true

# Include video files in extraction.
# Supported formats: MOV, MP4, M4V, AVI, 3GP
include_videos = true


# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                            ğŸ“‹ LOGGING SETTINGS                               â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[logging]

# Log verbosity level. Options (from least to most verbose):
#   "error"   - Only show errors
#   "warn"    - Show warnings and errors
#   "info"    - Show general information (recommended)
#   "debug"   - Show detailed debug information
#   "trace"   - Show everything (very verbose)
level = "info"

# Enable logging to a file in addition to console output.
# Useful for troubleshooting or keeping extraction history.
log_to_file = false

# Path to the log file (only used if log_to_file = true).
log_file = "./photo_extraction.log"


# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                       ğŸ” DUPLICATE DETECTION SETTINGS                        â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# This feature uses SHA256 cryptographic hashing to detect exact duplicate files.
# It compares files from your device against existing files on your computer,
# avoiding extraction of files you already have. Works with ALL file types
# (photos AND videos).

[duplicate_detection]

# Enable duplicate detection.
# When enabled, the tool will skip files that already exist in comparison_folders.
enabled = false

# Folders to scan for existing files to compare against.
# The tool will compute SHA256 hashes of all media files in these folders.
# Use absolute paths for reliability.
# Examples:
#   comparison_folders = ["D:/Photos", "D:/Backup/iOS Backup"]
#   comparison_folders = ["C:/Users/John/Pictures", "E:/Photo Archive"]
comparison_folders = []

# Cache the hash index for faster subsequent runs.
# The first run will build the index (may take time for large libraries).
# Subsequent runs will load from cache instantly.
cache_enabled = true

# Path to the cache file (JSON format, human-readable).
# This stores SHA256 hashes of your existing files for quick lookup.
cache_file = "./.duplicate_cache.json"

# Action to take when a duplicate is found. Options:
#   "skip"      - Don't extract the duplicate (recommended)
#   "overwrite" - Replace the existing file with the new one
#   "rename"    - Keep both by adding a suffix to the new file (e.g., IMG_001_1.jpg)
duplicate_action = "skip"

# Scan comparison folders recursively (include all subdirectories).
# Set to `false` to only scan the top-level of each folder.
recursive = true

# Only index media files (photos and videos).
# Set to `false` to index ALL files regardless of extension.
media_only = true


# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                          ğŸ“Š TRACKING SETTINGS                                â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# Tracking remembers which files have been extracted, enabling resume support
# and efficient incremental backups.

[tracking]

# Enable tracking of extraction state.
# When enabled, the tool remembers which files have been extracted.
enabled = true

# Name of the hidden tracking file (stored in output directory).
# This file is automatically created and updated during extraction.
tracking_filename = ".photo_extraction_state.json"

# Track individual files that have been extracted.
# Enables resume support - if extraction is interrupted, it will continue
# from where it left off on the next run.
track_extracted_files = true


# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                              QUICK START GUIDE                               â•‘
# â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
# â•‘                                                                              â•‘
# â•‘  FIRST TIME SETUP:                                                           â•‘
# â•‘    Just run: photo_extraction_tool                                           â•‘
# â•‘    The setup wizard will guide you through choosing a backup location.       â•‘
# â•‘                                                                              â•‘
# â•‘  AFTER SETUP:                                                                â•‘
# â•‘    1. Connect your iPhone/iPad via USB                                       â•‘
# â•‘    2. Unlock the device and tap "Trust" if prompted                          â•‘
# â•‘    3. Run: photo_extraction_tool                                             â•‘
# â•‘                                                                              â•‘
# â•‘  MULTIPLE DEVICES:                                                           â•‘
# â•‘    Device profiles are enabled by default. Each device gets its own          â•‘
# â•‘    folder automatically (e.g., D:/Photos/Johns_iPhone_15/)                   â•‘
# â•‘                                                                              â•‘
# â•‘  AVOID DUPLICATES:                                                           â•‘
# â•‘    Enable duplicate_detection.enabled = true above                           â•‘
# â•‘    Add your existing photo folders to comparison_folders                     â•‘
# â•‘    Or use CLI: --detect-duplicates --compare-to "D:/Photos"                  â•‘
# â•‘                                                                              â•‘
# â•‘  EDIT THIS FILE:                                                             â•‘
# â•‘    Run: photo_extraction_tool config                                         â•‘
# â•‘                                                                              â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
